#step one: produce an easily computable format (i.e. RPN)

def parse(string):
    #...
    # sample 1d20;
    ret = []
    for i in range(1,20):
        ret[i]++;
    return ret
